# 项目介绍

这是一个面向**多人合唱 / 对唱 / 轮唱排练场景**的网站项目，核心目标是：

- 清晰展示完整歌词
- 明确区分「每个人唱哪一句 / 哪一段」
- 提供可升 Pitch（不变速）的音频播放，方便找到适合大家的调
- 在排练时做到 **少操作、强聚焦、不打断练习节奏**

该网站主要解决的问题是：

- 纸质或群聊歌词分配混乱，排练时反复确认“我唱哪句”
- 升调伴奏获取麻烦，临时排练不方便
- 投屏/个人练习时，歌词不够直观

产品定位为：**排练优先，其次才是编辑**。

---

# MVP 设计原则

MVP 阶段遵循以下设计逻辑：

1. 页面尽量少，操作路径尽量短
2. 排练页是核心使用场景，占 90% 使用时间
3. 歌词分配只做到「行级」，避免复杂度爆炸
4. 所有关键状态（Pitch / 循环 / 当前行）必须一眼可见

---

# MVP 页面结构总览

MVP 只包含 **3 个页面**：

1. 项目列表页（选择 / 新建项目）
2. 项目设置页（音频、成员、歌词分配）
3. 排练页（播放器 + 歌词展示，日常使用主页面）

---

# 页面一：项目列表页（Project List）

## 功能目标

快速进入排练，避免无关操作干扰。

## UI 结构

- 页面顶部：标题 +「新建项目」按钮
- 页面主体：项目卡片列表
  - 歌名
  - 成员人数
  - 音频时长
  - 最近更新时间

## 交互逻辑

- 点击项目卡片 → **直接进入排练页**
- 卡片右上角：设置按钮（进入项目设置页）

---

# 页面二：项目设置页（Setup）

设置页只在「初次创建」或「需要调整」时使用。

采用 **Tab 结构 / 三步配置**：音频 → 成员 → 歌词分配。

---

## Tab A：音频设置

### UI 组件

- 上传 / 替换音频按钮
- 音频预览播放器（播放 / 暂停）
- 自动显示音频时长

### 逻辑说明

- 未上传音频时，不允许进入排练页（或排练页只读）

---

## Tab B：成员管理

### UI 组件

- 成员列表
  - 成员名
  - 自动分配的颜色标识
- 添加成员输入框

### 逻辑说明

- 成员颜色用于歌词高亮
- MVP 不区分权限，所有成员默认可查看

---

## Tab C：歌词编辑与分配（行级）

### UI 布局

- 左侧：歌词编辑区（逐行）
- 右侧 / 顶部：歌词分配工具条

### 歌词编辑区

- 每一行歌词为一个独立单元
- 行号 + 歌词文本
- 点击整行即可选中（支持多选）

### 分配工具条

- 成员选择（Chip / 按钮形式）
- 操作按钮：
  - 分配给选中成员
  - 清空分配

### 分配逻辑

1. 先选择成员
2. 再选择一行或多行歌词
3. 点击「分配」完成绑定

> MVP 阶段不支持同一行分词给多人。
> 合唱使用系统内置成员：ALL。

---

# 页面三：排练页（Rehearsal Page）

这是 MVP 的**核心页面**，排练时几乎只使用这一页。

整体布局：**上播放器，下歌词列表**。

---

## 顶部：播放控制区（固定）

### UI 组件

- 播放 / 暂停按钮（主按钮）
- 播放进度条（可拖动）
- 当前时间 / 总时长
- Pitch 调节按钮：`-` / `+`
- 当前 Pitch 显示（如 +2）
- 循环按钮（Loop）

### 逻辑说明

- Pitch 单位为「半音」，调整后立即生效
- Pitch 调整不影响播放速度
- Loop 默认为「当前歌词行循环」

---

## 中部：视图控制区

### UI 组件

- 视角切换：
  - 全部歌词
  - 只看我
- 成员选择下拉（仅在“只看我”时显示）

### 逻辑说明

- 只看我：
  - 自己唱的行正常显示
  - 其他歌词变灰但不隐藏（避免迷路）
- 成员选择会被记住（本地状态）

---

## 主体：歌词列表区

### 单行歌词结构

- 左侧：成员颜色条 + 名字缩写（如 A / B / ALL）
- 中部：歌词文本（支持多行显示）
- 右侧（可选）：
  - 循环按钮（∞）

### 交互逻辑

- 点击歌词行：
  - 设置为「当前行」
  - 该行高亮显示
  - 若 Loop 开启，则循环练习该行

> MVP 阶段可不做音频时间轴跳转，只做歌词级别的聚焦。

---

# 排练页核心状态说明（MVP）

- 当前选中歌词行（Selected Line）
- 当前 Pitch 值（整数半音）
- 播放状态（播放 / 暂停）
- 循环状态（Off / 行循环）
- 当前成员过滤（全部 / 某成员）

所有状态变化必须**可视化反馈明确**。

---

# MVP 使用流程示例

### 流程 1：首次创建项目

新建项目 → 上传音频 → 添加成员 → 粘贴歌词 → 行分配 → 进入排练

### 流程 2：日常排练

进入项目 → 排练页 → 只看我 → 调整 Pitch → 点击某行循环练习

### 流程 3：临时调整分配

排练页 → 进入设置 → 修改分配 → 返回排练页（状态保持）

